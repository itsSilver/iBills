(window.webpackJsonp=window.webpackJsonp||[]).push([[49,2,8,9,37],{341:function(e,t,n){var content=n(345);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(59).default)("bde3a3e8",content,!0,{sourceMap:!1})},342:function(e,t,n){"use strict";n.r(t);var o={name:"CardComponent",props:{title:{type:String,default:null},icon:{type:String,default:null},headerIcon:{type:String,default:null}},methods:{headerIconClick:function(){this.$emit("header-icon-click")}}},r=n(4),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[e.title?n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title"},[e.icon?n("b-icon",{attrs:{icon:e.icon,"custom-size":"default"}}):e._e(),e._v("\n      "+e._s(e.title)+"\n    ")],1),e._v(" "),e._t("navtop")],2):e._e(),e._v(" "),n("div",{staticClass:"card-content"},[e._t("default")],2)])}),[],!1,null,null,null);t.default=component.exports},343:function(e,t,n){var content=n(358);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(59).default)("38a4c900",content,!0,{sourceMap:!1})},344:function(e,t,n){"use strict";n(341)},345:function(e,t,n){var o=n(58)(!1);o.push([e.i,".custom-navtop[data-v-08795142]{align-items:center;grid-gap:1rem;gap:1rem;margin-right:1rem}",""]),e.exports=o},346:function(e,t,n){"use strict";n.r(t);var o={name:"ModalBox",props:{isActive:{type:Boolean,default:!1},trashObjectName:{type:String,default:null}},data:function(){return{isModalActive:!1}},watch:{isActive:function(e){this.isModalActive=e},isModalActive:function(e){e||this.cancel()}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm")}}},r=n(4),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{active:e.isModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isModalActive=t}}},[n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v(e._s(e.$t("messages.confirm")))])]),e._v(" "),n("section",{staticClass:"modal-card-body"},[n("p",{domProps:{innerHTML:e._s(e.$t("warehouse.delete",{name:e.trashObjectName}))}})]),e._v(" "),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-small",attrs:{type:"button"},on:{click:e.cancel}},[e._v("\n        "+e._s(e.$t("navtop.cancel"))+"\n      ")]),e._v(" "),n("button",{staticClass:"button is-small is-danger",on:{click:e.confirm}},[e._v("\n        "+e._s(e.$t("navtop.delete"))+"\n      ")])])])])}),[],!1,null,null,null);t.default=component.exports},347:function(e,t,n){"use strict";n.r(t);var o={name:"NavTopMenu",data:function(){return{}},props:["deleteAll"]},r=(n(344),n(4)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"is-flex custom-navtop"},[e._t("default"),e._v(" "),n("button",{staticClass:"button is-primary is-small",attrs:{type:"button"},on:{click:function(t){return e.$emit("new-document")}}},[n("b-icon",{attrs:{icon:"plus-thick",size:"is-small"}}),e._v(" "),n("span",[e._v(" "+e._s(e.$t("navtop.create"))+" ")])],1),e._v(" "),e.deleteAll?n("button",{staticClass:"button is-danger is-small",attrs:{type:"button"},on:{click:function(t){return e.$emit("delete-selected")}}},[n("b-icon",{attrs:{icon:"trash-can",size:"is-small"}}),e._v(" "),n("span",[e._v(" "+e._s(e.$t("navtop.delete_selected"))+" ")])],1):e._e()],2)}),[],!1,null,"08795142",null);t.default=component.exports},349:function(e,t,n){"use strict";var o=n(3),r=n(2),c=n(5),l=n(69),d=n(350),m=n(230),f=n(7),v=r.RangeError,h=r.String,_=Math.floor,w=c(m),x=c("".slice),k=c(1..toFixed),y=function(e,t,n){return 0===t?n:t%2==1?y(e,t-1,n*e):y(e*e,t/2,n)},$=function(data,e,t){for(var n=-1,o=t;++n<6;)o+=e*data[n],data[n]=o%1e7,o=_(o/1e7)},C=function(data,e){for(var t=6,n=0;--t>=0;)n+=data[t],data[t]=_(n/e),n=n%e*1e7},D=function(data){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=h(data[e]);s=""===s?t:s+w("0",7-t.length)+t}return s};o({target:"Number",proto:!0,forced:f((function(){return"0.000"!==k(8e-5,3)||"1"!==k(.9,0)||"1.25"!==k(1.255,2)||"1000000000000000128"!==k(0xde0b6b3a7640080,0)}))||!f((function(){k({})}))},{toFixed:function(e){var t,n,o,r,c=d(this),m=l(e),data=[0,0,0,0,0,0],f="",_="0";if(m<0||m>20)throw v("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return h(c);if(c<0&&(f="-",c=-c),c>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*y(2,69,1))-69)<0?c*y(2,-t,1):c/y(2,t,1),n*=4503599627370496,(t=52-t)>0){for($(data,0,n),o=m;o>=7;)$(data,1e7,0),o-=7;for($(data,y(10,o,1),0),o=t-1;o>=23;)C(data,1<<23),o-=23;C(data,1<<o),$(data,1,1),C(data,2),_=D(data)}else $(data,0,n),$(data,1<<-t,0),_=D(data)+w("0",m);return _=m>0?f+((r=_.length)<=m?"0."+w("0",m-r)+_:x(_,0,r-m)+"."+x(_,r-m)):f+_}})},350:function(e,t,n){var o=n(5);e.exports=o(1..valueOf)},357:function(e,t,n){"use strict";n(343)},358:function(e,t,n){var o=n(58)(!1);o.push([e.i,".header-title[data-v-9eb3f5f2]{font-size:1.25rem;text-align:center;text-transform:capitalize}.modal-card-foot[data-v-9eb3f5f2]{display:flex;justify-content:space-between}.modal-card-body[data-v-9eb3f5f2]{border-bottom-right-radius:6px;border-bottom-left-radius:6px;border-bottom:1px solid #f1f2f2}",""]),e.exports=o},361:function(e,t,n){"use strict";n.r(t);var o={data:function(){return{isNewModalActive:!1}},watch:{isActiveNew:function(e){this.isNewModalActive=e},isNewModalActive:function(e){e||this.cancel()}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm")}},props:{isActiveNew:{type:Boolean,default:!1},title:{type:String,default:null}}},r=(n(357),n(4)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{active:e.isNewModalActive,width:720,scroll:"keep"},on:{"update:active":function(t){e.isNewModalActive=t}}},[n("div",{},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title header-title"},[n("b",[e._v(e._s(e.title))])])]),e._v(" "),n("section",{staticClass:"modal-card-body"},[e._t("default")],2)])])}),[],!1,null,"9eb3f5f2",null);t.default=component.exports},443:function(e,t,n){"use strict";n.r(t);var o=n(6),r=(n(60),n(349),n(43),n(206)),c=n.n(r),l=n(346),d=n(347),m=n(361),f={components:{ModalBox:l.default,NavTopMenu:d.default,NewModal:m.default},name:"Users",layout:"admin",head:function(){return{title:"Users â€” ".concat(this.$t("messages.title"))}},data:function(){return{dataTable:[],total:0,loading:!1,page:1,perPage:10,paginated:!1,isModalActive:!1,deleteAll:!1,isDeleteActive:!1,isNewModalActive:!1,isUpdateModalActive:!1,form:{last_name:null,first_name:null,email:null,password:null,coin_balance:null,exchange_rate:null,blockchain:null},updateData:{id:null,last_name:null,first_name:null,email:null,password:null,coin_balance:null,exchange_rate:null,blockchain:null},isLoading:!1,trashObject:null}},computed:{trashObjectName:function(){if(this.trashObject)return this.trashObject.first_name}},methods:{formatDate:function(e){return c()(e).format("DD/MM/YYYY HH:mm")},onDeleteSelected:function(){this.isDeleteActive=!0},updateCompany:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.$axios.get("/users/".concat(e),{headers:{Authorization:"Bearer ".concat(t.$auth.strategy.token.get()),"Content-Type":"application/json"}}).then((function(e){t.updateData=e.data,t.isUpdateModalActive=!0})).catch((function(e){console.log("err",e)}));case 1:case"end":return n.stop()}}),n)})))()},onSubmit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:e.form.email,password:e.form.password,passw:e.form.password,username:"".concat(e.form.first_name,"_").concat(e.form.last_name),first_name:e.form.first_name,last_name:e.form.last_name,coin_balance:parseFloat(e.form.coin_balance).toFixed(2),exchange_rate:parseFloat(e.form.exchange_rate).toFixed(2),blockchain:e.form.blockchain,confirmed:!0},t.next=3,e.$axios.post("/users",n,{headers:{Authorization:"Bearer ".concat(e.$auth.strategy.token.get()),"Content-Type":"application/json"}}).then((function(t){e.$buefy.snackbar.open({message:"".concat(e.$t("messages.created",{name:t.data.first_name})),queue:!1}),e.loadAsyncData().then((function(){e.isNewModalActive=!1}))})).catch((function(t){e.isNewModalActive=!1,e.$buefy.snackbar.open({message:"".concat(e.$t("messages.error")),queue:!1})}));case 3:case"end":return t.stop()}}),t)})))()},onUpdate:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,n={email:e.updateData.email,password:e.updateData.passw,passw:e.updateData.passw,username:"".concat(e.updateData.first_name,"_").concat(e.updateData.last_name),first_name:e.updateData.first_name,last_name:e.updateData.last_name,coin_balance:e.updateData.coin_balance,exchange_rate:e.updateData.exchange_rate,blockchain:e.form.blockchain},t.next=4,e.$axios.put("/users/".concat(e.updateData.id),n,{headers:{Authorization:"Bearer ".concat(e.$auth.strategy.token.get()),"Content-Type":"application/json"}}).then((function(t){e.isUpdateModalActive=!1,e.isLoading=!1,e.loadAsyncData().then((function(){e.$buefy.snackbar.open({message:"".concat(e.$t("messages.updated",{name:t.data.first_name})),queue:!1})}))})).catch((function(t){e.$buefy.snackbar.open({message:"".concat(e.$t("messages.error")),queue:!1})}));case 4:case"end":return t.stop()}}),t)})))()},cancelNewModal:function(){this.isNewModalActive=!1},cancelUpdateModal:function(){this.isUpdateModalActive=!1},cancelDeleteModal:function(){this.isDeleteActive=!1},onNewDocument:function(){this.isNewModalActive=!0},loadAsyncData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$axios.get("/users",{params:{_limit:-1,"role.id":1},headers:{Authorization:"Bearer ".concat(e.$auth.strategy.token.get()),"Content-Type":"application/json"}}).then((function(t){e.dataTable=t.data,e.dataTable.length>e.perPage&&(e.paginated=!0),e.loading=!1})).catch((function(t){throw e.$buefy.snackbar.open({message:"".concat(e.$t("messages.error")),queue:!1}),e.dataTable=[],e.total=0,e.loading=!1,t}));case 3:case"end":return t.stop()}}),t)})))()},onPageChange:function(e){this.page=e,this.loadAsyncData()},trashModal:function(e){this.trashObject=e,this.isModalActive=!0},trashConfirm:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$axios.delete("/users/".concat(e.trashObject.id),{headers:{Authorization:"Bearer ".concat(e.$auth.strategy.token.get()),"Content-Type":"application/json"}}).then((function(t){e.loadAsyncData().then((function(){e.isModalActive=!1,e.loading=!1,e.$buefy.snackbar.open({message:"".concat(e.$t("messages.deleted",{name:t.data.full_name})),queue:!1,type:"is-success"})}))})).catch((function(t){throw e.$buefy.snackbar.open({message:"".concat(e.$t("messages.error")),queue:!1}),e.loading=!1,t}));case 3:case"end":return t.stop()}}),t)})))()},trashCancel:function(){this.isModalActive=!1}},filters:{truncate:function(e,t){return e.length>t?e.substr(0,t)+"...":e}},mounted:function(){this.loadAsyncData()}},v=n(4),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{staticClass:"section is-main-section is-fullheight"},[n("card-component",{staticClass:"has-table has-mobile-sort-spaced",attrs:{title:"Users",icon:"account"},scopedSlots:e._u([{key:"navtop",fn:function(){return[n("nav-top-menu",{attrs:{deleteAll:e.deleteAll},on:{"new-document":e.onNewDocument,"delete-selected":e.onDeleteSelected}})]},proxy:!0}])},[e._v(" "),n("div",[n("modal-box",{attrs:{"is-active":e.isModalActive,"trash-object-name":e.trashObjectName},on:{confirm:e.trashConfirm,cancel:e.trashCancel}}),e._v(" "),n("b-table",{attrs:{loading:e.loading,paginated:e.paginated,"per-page":e.perPage,striped:!0,hoverable:!0,"default-sort":"created_at",data:e.dataTable}},[n("b-table-column",{attrs:{label:e.$t("table.full_name"),field:"first_name",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.first_name+" "+t.row.last_name)+"\n          ")]}}])}),e._v(" "),n("b-table-column",{attrs:{label:e.$t("table.email"),field:"email",sortable:"",searchable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.email))]}}])}),e._v(" "),n("b-table-column",{attrs:{label:"Password",field:"btc"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.passw)+"\n          ")]}}])}),e._v(" "),n("b-table-column",{attrs:{label:"BTC",field:"btc"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.coin_balance)+"\n          ")]}}])}),e._v(" "),n("b-table-column",{attrs:{label:"Exchange Rate",field:"email",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(t.row.exchange_rate)+" $\n          ")]}}])}),e._v(" "),n("b-table-column",{attrs:{label:"Date Created",field:"created_at",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.formatDate(t.row.created_at))+"\n          ")]}}])}),e._v(" "),n("b-table-column",{staticClass:"is-actions-cell",attrs:{"custom-key":"actions",label:e.$t("table.action"),centered:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"buttons is-right"},[n("button",{staticClass:"button is-warning is-normal",attrs:{type:"button"},on:{click:function(n){return n.preventDefault(),e.updateCompany(t.row.id)}}},[n("b-icon",{attrs:{icon:"account-edit",size:"is-normal"}})],1),e._v(" "),n("button",{staticClass:"button is-danger is-normal",attrs:{type:"button"},on:{click:function(n){return n.preventDefault(),e.trashModal(t.row)}}},[n("b-icon",{attrs:{icon:"trash-can",size:"is-normal"}})],1)])]}}])}),e._v(" "),n("section",{staticClass:"section",attrs:{slot:"empty"},slot:"empty"},[n("div",{staticClass:"content has-text-grey has-text-centered"},[e.loading?[n("p",[n("b-icon",{attrs:{icon:"dots-horizontal",size:"is-large"}})],1),e._v(" "),n("p",[e._v(e._s(e.$t("messages.fetching")))])]:[n("p",[n("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),e._v(" "),n("p",[e._v(e._s(e.$t("messages.not_found")))])]],2)])],1)],1)])],1),e._v(" "),n("new-modal",{attrs:{"is-active-new":e.isNewModalActive,title:e.$t("user.create")},on:{cancel:e.cancelNewModal}},[n("div",[n("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[n("b-field",[n("b-input",{attrs:{icon:"account",placeholder:"Last Name",name:"username",size:"is-normal",required:""},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"account",placeholder:"First Name",name:"username",size:"is-normal",required:""},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"email",placeholder:e.$t("table.email"),name:"email",type:"email",size:"is-normal",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"lock",placeholder:e.$t("table.password"),name:"password",size:"is-normal",type:"password","password-reveal":"",required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"lock",placeholder:"BTC",name:"btc",size:"is-normal",type:"text",required:""},model:{value:e.form.coin_balance,callback:function(t){e.$set(e.form,"coin_balance",t)},expression:"form.coin_balance"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"lock",placeholder:"Exchange Rate",name:"Exchange Rate",size:"is-normal",type:"text",required:""},model:{value:e.form.exchange_rate,callback:function(t){e.$set(e.form,"exchange_rate",t)},expression:"form.exchange_rate"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"lock",placeholder:"Blockchain Url",name:"Blockchain Url",size:"is-normal",type:"text",required:""},model:{value:e.form.blockchain,callback:function(t){e.$set(e.form,"blockchain",t)},expression:"form.blockchain"}})],1),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"is-flex footer-new-modal"},[n("b-button",{staticClass:"button is-normal",attrs:{type:"button"},on:{click:e.cancelNewModal}},[e._v("\n            "+e._s(e.$t("navtop.cancel"))+"\n          ")]),e._v(" "),n("button",{staticClass:"button is-primary is-normal",attrs:{type:"submit"}},[e._v("\n            "+e._s(e.$t("navtop.create"))+"\n          ")])],1)],1)])]),e._v(" "),n("new-modal",{attrs:{"is-active-new":e.isUpdateModalActive,title:e.$t("user.update")},on:{cancel:e.cancelUpdateModal}},[n("div",[n("form",{on:{submit:function(t){return t.preventDefault(),e.onUpdate.apply(null,arguments)}}},[n("b-field",[n("b-input",{attrs:{icon:"account",placeholder:"Last Name",name:"username",size:"is-normal",required:""},model:{value:e.updateData.last_name,callback:function(t){e.$set(e.updateData,"last_name",t)},expression:"updateData.last_name"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"account",placeholder:"First Name",name:"username",size:"is-normal",required:""},model:{value:e.updateData.first_name,callback:function(t){e.$set(e.updateData,"first_name",t)},expression:"updateData.first_name"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"email",placeholder:e.$t("table.email"),name:"email",type:"email",size:"is-normal",required:""},model:{value:e.updateData.email,callback:function(t){e.$set(e.updateData,"email",t)},expression:"updateData.email"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"lock",placeholder:e.$t("table.password"),name:"password",size:"is-normal",type:"password","password-reveal":"",required:""},model:{value:e.updateData.passw,callback:function(t){e.$set(e.updateData,"passw",t)},expression:"updateData.passw"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"lock",placeholder:"BTC",name:"btc",size:"is-normal",type:"text",required:""},model:{value:e.updateData.coin_balance,callback:function(t){e.$set(e.updateData,"coin_balance",t)},expression:"updateData.coin_balance"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"lock",placeholder:"Exchange Rate",name:"Exchange Rate",size:"is-normal",type:"text",required:""},model:{value:e.updateData.exchange_rate,callback:function(t){e.$set(e.updateData,"exchange_rate",t)},expression:"updateData.exchange_rate"}})],1),e._v(" "),n("b-field",[n("b-input",{attrs:{icon:"lock",placeholder:"Blockchain Url",name:"Blockchain Url",size:"is-normal",type:"text",required:""},model:{value:e.form.blockchain,callback:function(t){e.$set(e.form,"blockchain",t)},expression:"form.blockchain"}})],1),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"is-flex footer-new-modal"},[n("b-button",{staticClass:"button is-normal",attrs:{type:"button"},on:{click:e.cancelUpdateModal}},[e._v("\n            "+e._s(e.$t("navtop.cancel"))+"\n          ")]),e._v(" "),n("button",{staticClass:"button is-primary is-normal",attrs:{type:"submit"}},[e._v("\n            "+e._s(e.$t("navtop.update"))+"\n          ")])],1),e._v(" "),n("b-loading",{model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}})],1)])])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ModalBox:n(346).default,CardComponent:n(342).default})}}]);